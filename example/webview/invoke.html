<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no">
    <meta name=format-detection content="telephone=no">
</head>
<body>
<div id="name">1231</div>
<button style="border:1px solid #ccc;" onclick="clickme()">点击我</button>
<br />
<br />
<br />
<button style="border:1px solid #ccc;" onclick="refresh()">刷新</button>

</body>
<!--<script src="https://appx/web-view.min.js" type="text/javascript"></script>-->
<script>
    /*!
     *
     * ap/v1.12.0
     * Thu Nov 15 2018 20:59:15 GMT+0800 (CST)
     *
     */
    var my = function(e) {
      var t = {};
      function n(r) {
        if (t[r])
          return t[r].exports;
        var a = t[r] = {
          i: r,
          l: !1,
          exports: {}
        };
        return e[r].call(a.exports, a, a.exports, n),
          a.l = !0,
          a.exports
      }
      return n.m = e,
        n.c = t,
        n.d = function(e, t, r) {
          n.o(e, t) || Object.defineProperty(e, t, {
            enumerable: !0,
            get: r
          })
        }
        ,
        n.r = function(e) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
          }),
            Object.defineProperty(e, "__esModule", {
              value: !0
            })
        }
        ,
        n.t = function(e, t) {
          if (1 & t && (e = n(e)),
            8 & t)
            return e;
          if (4 & t && "object" == typeof e && e && e.__esModule)
            return e;
          var r = Object.create(null);
          if (n.r(r),
              Object.defineProperty(r, "default", {
                enumerable: !0,
                value: e
              }),
            2 & t && "string" != typeof e)
            for (var a in e)
              n.d(r, a, function(t) {
                return e[t]
              }
                .bind(null, a));
          return r
        }
        ,
        n.n = function(e) {
          var t = e && e.__esModule ? function() {
              return e.default
            }
              : function() {
                return e
              }
          ;
          return n.d(t, "a", t),
            t
        }
        ,
        n.o = function(e, t) {
          return Object.prototype.hasOwnProperty.call(e, t)
        }
        ,
        n.p = "",
        n(n.s = 1)
    }([function(e, t) {
      var n = Array.prototype.slice;
      e.exports = function(e) {
        return n.call(arguments, 1).forEach(function(t) {
          t && "object" == typeof t && Object.keys(t).forEach(function(n) {
            e[n] = t[n]
          })
        }),
          e
      }
    }
      , function(e, t, n) {
        "use strict";
        n.r(t);
        var r = n(0)
          , a = n.n(r);
        var o = function(e) {
          return e && "object" == typeof e ? Object.keys(e) : []
        };
        function i(e, t) {
          return "%s" === e ? t = function(e) {
            return "object" == typeof e ? JSON.stringify(e) : e + ""
          }(t) : "%c" === e ? t = function(e) {
            var t = "" + e;
            return 0 === t.indexOf("#") && (t = t.substr(1)),
            3 === t.length && (t = t.replace(/(.)/g, "$1$1")),
              t = parseInt(t, 16),
            isNaN(t) && console.error(e + " is invalid hex color."),
              t
          }(t) : "%b" === e ? t = function(e) {
            return "string" == typeof e && (e = e.replace(/^data:(\/|\w|\-|\.)+;base64,/i, "")),
              e
          }(t) : "%d" === e ? t = parseInt(t, 10) : "%f" === e && (t = parseFloat(t)),
            t
        }
        function c(e, t, n) {
          var r = void 0;
          return n = n || {},
            o(t).forEach(function(a) {
              var o = t[a];
              void 0 !== (o = (r = function(e) {
                var t = (e || "").match(/(\w+)(%\w)$/i)
                  , n = {
                  k: e
                };
                return t && (n.k = t[1],
                  n.t = t[2]),
                  n
              }(o)).k) && (a in e || a in n) && void 0 === e[o] && (e[o] = i(r.t, void 0 === n[a] ? e[a] : n[a]),
              o !== a && delete e[a])
            }),
            e
        }
        function u() {
          var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}
            , t = arguments[1]
            , n = e.complete
            , r = e.success
            , a = e.fail;
          t && t.error ? a && a(t) : r && r(t),
          n && n(t)
        }
        var l = {
          b: function(e) {
            c(e, {
              content: "message%s",
              buttonText: "button%s"
            })
          }
        }
          , s = {
          b: function(e) {
            c(e, {
              content: "text%s"
            })
          }
        }
          , f = {
          b: function(e) {
            e.count = e.count || 1,
            "string" == typeof e.sourceType && (e.sourceType = [e.sourceType])
          },
          a: function(e) {
            c(e, {
              errorCode: "error",
              errorDesc: "errorMessage",
              localIds: "apFilePaths",
              tempFilePaths: "apFilePaths"
            }),
            "string" == typeof e.apFilePaths && (e.apFilePaths = JSON.parse(e.apFilePaths)),
              e.tempFilePaths = e.apFilePaths
          }
        }
          , d = {
          m: "imageViewer",
          b: function(e) {
            c(e, {
              current: "init%d"
            }),
            e.init || (e.init = 0),
              e.images = [],
              (e.urls || []).forEach(function(t) {
                e.images.push({
                  u: t
                })
              }),
              delete e.urls
          }
        }
          , p = navigator.userAgent || navigator.swuserAgent
          , g = p.match(/AlipayClient\/(\d+\.\d+\.\d+)/)
          , y = p.match(/UCBS\/(\d+\.\d+)/)
          , v = g && g[1] || "100.0.0"
          , b = (y && y[1],
        p.indexOf("Android") > -1)
          , m = !!p.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)
          , h = (p.indexOf("AlipayIDE"),
          {})
          , S = {};
        !y || y[1],
        m && function(e) {
          w(v, e)
        }("10.1.38");
        function k(e) {
          if (S[e])
            return S[e];
          for (var t = [], n = e.split("."), r = 0; r < n.length; r++)
            t.push(parseInt(n[r], 10));
          return S[e] = t,
            t
        }
        function w(e, t) {
          if (e && t) {
            var n = e + "__" + t;
            if (n in h)
              return h[n];
            e = k(e),
              t = k(t);
            for (var r, a, o = 0; o < e.length; o++) {
              if ((r = t[o] || 0) > (a = e[o] || 0)) {
                h[n] = -1;
                break
              }
              if (r < a) {
                h[n] = 1;
                break
              }
            }
            return h[n] = h[n] || 0,
              h[n]
          }
          return 0
        }
        var A = function() {
          return {
            setStorage: {
              m: "setTinyLocalStorage",
              b: function(e) {
                e.value = JSON.stringify({
                  APDataStorage: e.data
                }),
                  e.data = e.value,
                  e.key = String(e.key),
                  e.type = "user"
              }
            },
            getStorage: {
              m: "getTinyLocalStorage",
              b: function(e) {
                e.key = String(e.key),
                  e.type = "user"
              },
              a: function(e) {
                if (11 === e.error && (e.data = null,
                    delete e.error,
                    delete e.errorMessage,
                    delete e.success),
                    e.data) {
                  var t = JSON.parse(e.data);
                  e.data = t.APDataStorage
                }
              }
            },
            removeStorage: {
              m: "removeTinyLocalStorage",
              b: function(e) {
                e.key = String(e.key),
                  e.type = "user"
              }
            },
            clearStorage: {
              m: "clearTinyLocalStorage",
              b: function(e) {
                e.type = "user"
              }
            },
            getStorageInfo: {
              m: "getTinyLocalStorageInfo"
            }
          }
        }
          , T = self
          , P = a()({
          alert: l,
          showLoading: s,
          hideLoading: {},
          previewImage: d,
          chooseImage: f,
          getNetworkType: {
            a: function(e) {
              e.networkInfo && (e.networkType = e.networkInfo.toUpperCase())
            }
          },
          openLocation: {
            b: function(e) {
              e.scale = e.scale || 15,
                e.hidden = "1"
            }
          },
          openTaobao: function(e) {
            return {
              d: function(t) {
                var n = e();
                n("isInstalledApp", {
                  packagename: "com.taobao.taobao",
                  scheme: "taobao://"
                }, function(e) {
                  !function(e, t, n, r) {
                    "installed"in r && (r.installed ? n ? e("getLoginToken", {}, function(n) {
                      var r = null
                        , a = !1;
                      "token"in n && "" !== n.token && (r = n.token,
                        a = n.encrypted),
                      r && (t += "&loginToken=" + r + "&tokenEncrypted=" + a),
                        e("openInBrowser", {
                          url: t
                        })
                    }) : e("openInBrowser", {
                      url: t
                    }) : e("openInBrowser", {
                      url: "https://h5.m.taobao.com/bcec/downloadTaobao.html"
                    }))
                  }(n, t.url, t.login, e)
                })
              }
            }
          }(function() {
            return T.AlipayJSBridge.call
          }),
          tradePay: {},
          getLocation: function(e) {
            return {
              m: "getCurrentLocation",
              b: function(t) {
                c(t, {
                  accuracy: "horizontalAccuracy",
                  type: "requestType"
                }),
                t.requestType || (t.requestType = 0,
                  t.useDefault = !0),
                  t.bizType = e,
                b && (void 0 === t.isHighAccuracy && (t.isHighAccuracy = !0),
                void 0 === t.isNeedSpeed && (t.isNeedSpeed = !0))
              },
              a: function(e) {
                c(e, {
                  citycode: "cityCode",
                  adcode: "adCode"
                }),
                !e.city && e.province && (e.city = e.province),
                e.latitude && (e.latitude += ""),
                e.longitude && (e.longitude += ""),
                e.accuracy && (e.accuracy += "",
                  e.horizontalAccuracy = e.accuracy),
                  delete e.speed
              }
            }
          }(T.AlipayJSBridge.startupParams.parentAppId)
        }, A())
          , O = {};
        var B = new Promise(function(e) {
            window.AlipayJSBridge ? e() : document.addEventListener("AlipayJSBridgeReady", e)
          }
        )
          , I = 0
          , J = {}
          , L = self
          , M = function() {}
          , N = {
          call: function() {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)
              t[n] = arguments[n];
            B.then(function() {
              var e;
              (e = L.AlipayJSBridge).call.apply(e, t)
            })
          },
          postMessage: function(e) {
            B.then(function() {
              var t = {
                type: "message",
                detail: e
              };
              L.AlipayJSBridge.call("postWebViewMessage", t)
            })
          },
          getEnv: function(e) {
            -1 === navigator.userAgent.indexOf("Nebula") ? e && e({
                miniprogram: !1
              }) : B.then(function() {
              L.AlipayJSBridge.call("getEmbedWebViewEnv", function(t) {
                e && e(t)
              })
            })
          },
          startShare: function() {
            L.AlipayJSBridge.call("postWebViewMessage", {
              type: "webViewShare"
            })
          },
          canIUse: function(e) {
            return function(e, t) {
              var n = t.split(".");
              if (1 === n.length && e[n[0]])
                return !0;
              for (var r = O, a = 0; a < n.length; a++)
                if (!(r = r[n[a]]))
                  return !1;
              return !0
            }(N, e)
          }
        };
        ["navigateTo", "navigateBack", "switchTab", "reLaunch", "redirectTo"].forEach(function(e) {
          N[e] = function(t) {
            B.then(function() {
              var n = a()({}, t);
              (n.success || n.complete || n.fail) && (J[++I] = a()({}, n),
                delete n.success,
                delete n.complete,
                delete n.fail),
                L.AlipayJSBridge.call("postWebViewMessage", {
                  type: e,
                  callback: I,
                  param: n
                })
            })
          }
        }),
          o(P).forEach(function(e) {
            var t = P[e] || {}
              , n = !1 !== t.callback;
            N[e] = function(r) {
              var o = function(e, t) {
                var n = a()({}, e)
                  , r = P[t]
                  , o = {
                  success: n.success || M,
                  fail: n.fail || M,
                  complete: n.complete || M
                };
                return delete n.success,
                  delete n.fail,
                  delete n.complete,
                r && r.b && r.b(n),
                  {
                    newParam: n,
                    callbackParam: o,
                    apiName: r.m ? r.m : t
                  }
              }(r, e);
              B.then(function() {
                if (t.d)
                  t.d(o.newParam);
                else if (void 0 === r)
                  L.AlipayJSBridge.call(o.apiName);
                else {
                  var e = L.AlipayJSBridge.call.bind(L.AlipayJSBridge, o.apiName, o.newParam);
                  n ? e(function(e) {
                    var n = e;
                    t.a && t.a(n),
                      u(o.callbackParam, n)
                  }) : e()
                }
              })
            }
          }),
          document.addEventListener("onToWebViewMessage", function(e) {
            var t = e.data, n = t.callback, r = t.res;
            if("response" === r.type) {
              J[n] && (u(J[n], r.res), delete J[n])
            } else if("message" === r.type ) {
              console.log(8888, t, t.res, t.res.data)
              N.onMessage && N.onMessage(JSON.parse(r.data))
            }
          });
        t.default = N
      }
    ]).default;

</script>
<script src="./invoke.js" type="text/javascript"></script>
<script type="text/javascript">
  function refresh() {
    window.location.reload();
  }
  inv = window.MpInvoke.default;
  inv.define("NavUseWeb", function(data){
    console.log(888, data)
    return {
      isSuccess: true
    }
  });
  setTimeout(() => {
    console.error("fn", inv.fn)
  }, 1000)
  var WebUseNav = inv.bind("WebUseNav");
  function clickme() {
    console.log("clickme", WebUseNav(123123))
    WebUseNav(1);
//    WebUseNav(1,2,3,4,5).then(function(v) {
//      console.log("val", v)
//    }, function(e) {
//      console.log("error", e)
//    })
  }
</script>
</html>